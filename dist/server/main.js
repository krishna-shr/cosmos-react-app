(()=>{"use strict";var e={142:e=>{e.exports=require("dotenv")}},o={};function t(n){var r=o[n];if(void 0!==r)return r.exports;var s=o[n]={exports:{}};return e[n](s,s.exports,t),s.exports}t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{const e=require("express");var o=t.n(e);const n=require("path");var r=t.n(n);t(142).config();const{ENVIRONMENT:s,PUBLIC_SERVER_PORT:i,BASE_PATH:l}=process.env,d=require("tslib"),u=[{path:"/getData",method:"GET",action:e=>(0,d.__awaiter)(void 0,void 0,void 0,(function*(){var o;return yield(o=e.body,console.log(o),{status:"OK",msg:"Route A is active"})}))}],a=(0,e.Router)();a.use("/routeA",(o=>{const t=(0,e.Router)();return o.forEach((({method:e="GET",path:o,action:n,middleware:r=[]})=>t[null==e?void 0:e.toLowerCase()](o,r,(e=>(o,t,n)=>(0,d.__awaiter)(void 0,void 0,void 0,(function*(){var r,s,i,l,d,u,a,c,v,p;try{const r=yield e(o,t,n);return((e,o)=>e.status(200).send(o))(t,r)}catch(e){const o=null!==(s=null===(r=null==e?void 0:e.response)||void 0===r?void 0:r.status)&&void 0!==s?s:e.code,n=null!==(p=null!==(v=null!==(c=null!==(d=null===(l=null===(i=null==e?void 0:e.response)||void 0===i?void 0:i.data)||void 0===l?void 0:l.message)&&void 0!==d?d:null===(a=null===(u=null==e?void 0:e.response)||void 0===u?void 0:u.data)||void 0===a?void 0:a.error)&&void 0!==c?c:e.msg)&&void 0!==v?v:e.message)&&void 0!==p?p:e;return console.error(`API Request Failed: ${o} - ${n}`),((e,o=500,t="Something went wrong")=>("string"!=typeof t&&(t="Something went wrong"),e.status("number"==typeof o?o:500).send({error:t})))(t,o,n)}})))(n)))),t})(u));const c=a,v=require("morgan");var p=t.n(v);const g=require("helmet");var m=t.n(g);const h=require("cors");var A=t.n(h);const T=(e,o,t)=>{o.header("Access-Control-Allow-Origin","*"),o.header("Access-Control-Allow-Methods","GET, POST, PUT, PATCH, POST, DELETE, OPTIONS"),o.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),t()},w=o()();w.use("/api/health-check",((e,o)=>o.json({status:"App is up"}))),w.use(o().static("dist")),(o=>{o.use(p()("combined")),o.use((0,e.json)({limit:"50mb"})),o.use((0,e.urlencoded)({extended:!0,limit:"50mb"})),o.use((()=>{const e={origin(e,o){o(null,!0)}};return A()(e)})()),o.use(m()()),o.use(T)})(w),w.use("/api",c),w.get(`${l}/*`,((e,o)=>{o.sendFile(r().join(__dirname,"..","..","dist/index.html"))})),w.listen(i,(()=>console.log(`App is listening on port ${i}!. Running in ${s} mode.`)))})()})();